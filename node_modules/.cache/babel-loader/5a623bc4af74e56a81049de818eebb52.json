{"ast":null,"code":"import _classCallCheck from \"/Users/flatironschool/Personal Projects/scanape-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flatironschool/Personal Projects/scanape-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/flatironschool/Personal Projects/scanape-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/flatironschool/Personal Projects/scanape-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/flatironschool/Personal Projects/scanape-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/flatironschool/Personal Projects/scanape-frontend/src/components/GroceryCard.js\";\nimport React, { Component } from 'react';\n\nvar GroceryCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GroceryCard, _Component);\n\n  function GroceryCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GroceryCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GroceryCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      clicker: \"\",\n      class: \"ingredient-card\",\n      clicked: false,\n      deleted: 'no'\n    };\n\n    _this.decreaseHandler = function () {\n      // this.setState({ clicker: this.state.clicker - 1})\n      var clicker = _this.state.clicker;\n      fetch(\"http://localhost:3000/ingredients/\".concat(_this.props.grocery.id), {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          quantity: clicker - 1\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        return _this.setState({\n          clicker: json.quantity\n        });\n      });\n    };\n\n    _this.increaseHandler = function () {\n      // this.setState({ clicker: this.state.clicker + 1})\n      fetch(\"http://localhost:3000/ingredients/\".concat(_this.props.grocery.id), {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          quantity: _this.state.clicker + 1\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        return _this.setState({\n          clicker: json.quantity\n        });\n      });\n    };\n\n    _this.changeColor = function () {\n      if (_this.state.class === \"ingredient-card\") {\n        _this.setState({\n          class: \"ingredient-card green\"\n        });\n      } else {\n        _this.setState({\n          class: \"ingredient-card\"\n        });\n      }\n    };\n\n    _this.deleteCard = function () {\n      var token = localStorage.getItem('token');\n      fetch('http://localhost:3000/user_ingredients', {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: token\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        json.forEach(function (ing) {\n          // console.log(ing.ingredient_id)\n          // console.log(this.props.grocery.id)\n          if (_this.props.user.id === parseInt(ing.user_id) && _this.props.grocery.id === parseInt(ing.ingredient_id)) {\n            // console.log('found')\n            fetch(\"http://localhost:3000/user_ingredients/\".concat(ing.id), {\n              method: 'DELETE',\n              headers: {\n                'Content-Type': 'application/json',\n                Authorization: token\n              }\n            }).then(function (res) {\n              return res.json();\n            }).then(function (json) {\n              return _this.setState({\n                deleted: 'yes'\n              }, function () {\n                return console.log(_this.state.deleted);\n              });\n            });\n          } else {// console.log('not found')\n          }\n        });\n      }); // console.log(this.props.user, this.props.grocery)\n    };\n\n    return _this;\n  }\n\n  _createClass(GroceryCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:3000/ingredients/\".concat(this.props.grocery.id)).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        return _this2.setState({\n          clicker: json.quantity\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$grocery = this.props.grocery,\n          title = _this$props$grocery.title,\n          picture = _this$props$grocery.picture,\n          id = _this$props$grocery.id;\n      var quantity = this.state.clicker;\n      return React.createElement(\"div\", {\n        className: this.state.class,\n        \"data-id\": id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"delete-button\",\n        onClick: this.deleteCard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"img\", {\n        src: picture,\n        alt: \"\",\n        onClick: this.changeColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, title), React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.decreaseHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"-\"), React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.increaseHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"+\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Quantity: \", quantity)));\n    }\n  }]);\n\n  return GroceryCard;\n}(Component);\n\nexport { GroceryCard as default };","map":{"version":3,"sources":["/Users/flatironschool/Personal Projects/scanape-frontend/src/components/GroceryCard.js"],"names":["React","Component","GroceryCard","state","clicker","class","clicked","deleted","decreaseHandler","fetch","props","grocery","id","method","headers","body","JSON","stringify","quantity","then","res","json","setState","increaseHandler","changeColor","deleteCard","token","localStorage","getItem","Authorization","forEach","ing","user","parseInt","user_id","ingredient_id","console","log","title","picture"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class GroceryCard extends Component {\n    state = {\n        clicker: \"\",\n        class: \"ingredient-card\",\n        clicked: false,\n        deleted: 'no'\n    }\n\n    componentDidMount(){\n        fetch(`http://localhost:3000/ingredients/${this.props.grocery.id}`)\n        .then( res => res.json())\n        .then( json => this.setState({ clicker: json.quantity}))\n    }\n\n    decreaseHandler = () => {\n        // this.setState({ clicker: this.state.clicker - 1})\n\n        const { clicker } = this.state\n\n        fetch(`http://localhost:3000/ingredients/${this.props.grocery.id}`, {\n            method: 'PATCH',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ quantity: clicker - 1})\n        }).then( res => res.json())\n        .then( json => this.setState({ clicker: json.quantity}))\n    }\n\n    increaseHandler = () => {\n        // this.setState({ clicker: this.state.clicker + 1})\n\n        fetch(`http://localhost:3000/ingredients/${this.props.grocery.id}`, {\n            method: 'PATCH',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ quantity: this.state.clicker + 1})\n        }).then( res => res.json())\n        .then( json => this.setState({ clicker: json.quantity}))\n    }\n\n    changeColor = () => {\n        if(this.state.class === \"ingredient-card\"){\n            this.setState({ class: \"ingredient-card green\"})\n        }else{\n            this.setState({ class: \"ingredient-card\"})\n        }\n    }\n\n    deleteCard = () => {\n        let token = localStorage.getItem('token')\n\n        fetch('http://localhost:3000/user_ingredients',{\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: token\n            }\n        }).then( res => res.json())\n        .then( json => {\n            json.forEach( ing => {\n                // console.log(ing.ingredient_id)\n                // console.log(this.props.grocery.id)\n                if(this.props.user.id === parseInt(ing.user_id) && this.props.grocery.id === parseInt(ing.ingredient_id)){\n                    // console.log('found')\n\n                    fetch(`http://localhost:3000/user_ingredients/${ing.id}`,{\n                        method: 'DELETE',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: token\n                        }\n                    }).then( res => res.json())\n                    .then( json => this.setState({ deleted: 'yes'}, () => console.log(this.state.deleted)))\n                }else{\n                    // console.log('not found')\n                }\n            })\n        })\n\n        // console.log(this.props.user, this.props.grocery)\n    }\n\n    render(){\n        const { title, picture, id} = this.props.grocery\n        const quantity = this.state.clicker\n        return(\n            <div className={this.state.class} data-id={id}>\n            <button className=\"delete-button\" onClick={this.deleteCard}>X</button>\n                <img src={picture} alt=\"\" onClick={this.changeColor}></img>\n                <div>\n                <h3>{title}</h3>\n                <button className=\"button\" onClick={this.decreaseHandler}>-</button><button className=\"button\" onClick={this.increaseHandler}>+</button>\n                <br></br>\n                <p>Quantity: {quantity}</p>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}